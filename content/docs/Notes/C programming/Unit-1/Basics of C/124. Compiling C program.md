---
weight: 124
---

# Compiling C program


## Save the program

First we need to write a program in a text editor and save with .c extension.

## Compiling with terminal

1. Open the terminal
2. Go to the source file (program file with .c extension)
3. use gcc compiler to compile
```
gcc <file.c> -o <output.out>
```

## Flags

*Common GCC/Clang option categories and important flags*

### Input/output

- -o : set output file name (executable or object).
- -c : compile only, produce object file (.o), do not link.
- -E : run preprocessor only, output preprocessed source to stdout.
- -S : compile to assembly, produce .s file.
- -v : verbose — show commands and search paths.
- -save-temps : keep intermediate files (.i, .s, .o).

### Preprocessing and macros

- -Dname[=value] : define macro for preprocessor.
- -Uname : undefine macro.
- -I : add directory to include search path.
- -iquote : add directory for #include "file" only.
- -include : force-include a header before processing each source file.

### Language and standard selection

- -std= : select language standard (C: c89, c99, c11, c17, gnu11, etc.; C++: c++98, c++11, c++14, c++17, c++20, gnu++17, ...).
- -x : treat following input as specified language (c, c++, assembler, objective-c, etc.).
- -pedantic / -pedantic-errors : enforce standard conformance warnings/errors.

### Optimization

- -O0, -O1, -O2, -O3 : optimization levels (higher = more optimization).
- -Os : optimize for size.
- -Ofast : aggressive, may break strict standard compliance.
- -flto : enable link-time optimization.
- -funroll-loops, -fomit-frame-pointer, -fno-exceptions, -fno-rtti : fine-grained optimization/code-gen controls.

### Warnings and diagnostics

- -Wall : enable commonly useful warnings.
- -Wextra : enable extra warnings.
- -Werror : treat warnings as errors.
- -Wshadow, -Wformat, -Wconversion, -Wpedantic, -Wunused, -Wdeprecated-declarations : specific warning controls.
- -fno-builtin : disable builtin function assumptions.

### Code generation / Architecture

- -march= : generate code for specific CPU architecture (x86-64 examples: native, skylake).
- -mtune= : tune performance for a CPU while maintaining portability.
- -m32 / -m64 : generate 32-bit or 64-bit code.
- -fPIC / -fpic : generate position-independent code (for shared libraries).
- -static : link statically.
- -shared : produce a shared library (.so).

### Linker and libraries

- -l : link with library lib.a or lib.so.
- -L : add directory to library search path.
- -Wl, : pass option to linker (ld); comma-separated.
- -pthread : enable POSIX threads (compile+link flags).
- -rdynamic : export all symbols to dynamic symbol table.

### Debugging and profiling

- -g : generate debug information (levels: -g0, -g1, -g2, -g3).
- -ggdb : generate gdb-specific debug info.
- -pg : enable profiling with gprof.
- -fstack-protector / -fstack-protector-strong : stack-smashing protection.

### Preprocessor output and dependency generation

- -M, -MM : generate makefile dependencies.
- -MF : write dependencies to file.
- -MP : add phony targets to dependency output.
- -MD / -MMD : generate deps while compiling.

### Linker control and symbol visibility

- -Wl,-Map= : produce a link map file.
- -Wl,--gc-sections : garbage-collect unused sections (with -ffunction-sections -fdata-sections).
- -fvisibility= : control default symbol visibility (hidden, default).

### Language-specific runtime/control

- -fexceptions / -fno-exceptions : enable/disable C++ exceptions.
- -frtti / -fno-rtti : enable/disable runtime type info (C++).
- -fno-common : allocate uninitialized globals in compilation units (default in C11).

### Sanitizers and runtime checks

- -fsanitize=address,undefined,thread,leak,integer : enable sanitizers (can combine multiple).
- -fsanitize-recover= : control recover behavior.
- -fno-omit-frame-pointer : helpful for sanitizers and profiling.

### Front-end and plugin options

- -fplugin= : load plugin for GCC.
- -fdiagnostics-color=auto|always|never : colored diagnostics.
- -fno-inline-functions : control inlining.

### Compilation driver modes and convenience

- --help, --help=optimizers, --help=warnings : show available options.
- -traditional : legacy preprocessor behavior.
- -pipe : use pipes rather than temporary files for communication between stages.

### Examples of command layouts

- Compile-only: gcc -c file.c -o file.o
- Compile and link: gcc file.c -o program -O2 -Wall
- Create shared lib: gcc -shared -fPIC -o libmylib.so file1.o file2.o
- Link with math: gcc main.c -o prog -lm

*If you want an exhaustive dump of every GCC option for your installed version, run: gcc --help=common or gcc --help=optimizers or gcc --help=warnings or to capture all: gcc -Q --help=target*